{{- define "main" -}}
{{- $justify := false -}}
{{- $date := .Date.Format "2006-01-02" -}}
{{- $lastmod := .Lastmod.Format "2006-01-02" -}}
{{- $ageDays := div (sub now.Unix .Lastmod.Unix) 86400 -}}
{{- if eq .Params.justify true -}} {{- $justify = true -}} {{- end -}}
<div class="article-container">
<section class="article-header" {{- if $justify -}}style="text-align: justify;" {{- end -}}>
    <h1>{{- .Title | safeHTML -}}</h1>
    {{- if .Date -}}
    <p class="article-date">{{- .Date.Format "2006-01-02" -}}</p>
    {{- end -}}
    {{ if ne $lastmod $date }}
    <p class="lastmod-date">{{- i18n "edited" | safeHTML -}} {{- .Lastmod.Format "2006-01-02" -}}</p>
    {{- end -}}
</section>
{{- partial "article-labels.html" . -}}

{{- if .Site.Params.ShowOutdatedOnPosts -}}
{{- partial "outdated-warning.html" (dict "ageDays" $ageDays "context" .) -}}
{{- end -}}

<article class="markdown-body" {{- if $justify -}}style="text-align: justify;" {{- end -}}>
    {{- .Content -}}
</article>
</div>
{{- partial "article-license.html" . -}}
{{- partial "article-bottom-navigation.html" . -}}
{{- partial "article-comments.html" . -}}
{{- end -}}
